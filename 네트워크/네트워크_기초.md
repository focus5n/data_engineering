# 네트워크 기초

## 개념

    1. 정보를
    2. 특정한 기기에 전송하기 위한
    3. 인프라

## OSI 7 Layers

    1. 연결 모델
       1. 국제표준화기구(International Standardization Organization)에서 개발
       2. 컴퓨터 네트워크 프로토콜 디자인
       3. 통신을 계층으로 설명
       4. 개방형 시스템 상호 연결 모델

=====================================

    1. 계층 (Layer)
       1. 각 계층은 독립적이며
       2. 각 계층은 하위 계층의 기능을 이용하여
       3. 각 계층은 상위 계층에 기능을 제공한다
       4. 계층은 물리 계층부터 애플리케이션 계층까지 일곱 단계 존재한다.

=====================================

    1. 정보
       1. 정보를 담은 객체는 헤더와 바디로 구성되며
       2. 송신 개체의 애플리케이션 계층에서 수신 개체의 애플리케이션 계층까지 이동한다.

=====================================

    1. 헤더 (Header)
       1. 한 계층을 지날 때마다 객체에는 헤더가 추가로 붙는데
       2. 이것은 해당 계층의 기능과 관련된 제어 정보가 담겨있다
       3. 송신 측에서는 계층을 지날 때마다 추가되며 (위에서 아래로)
       4. 수신 측에서는 계층을 지날 때마다 삭제된다 (아래에서 위로)
       5. 결과적으로 낮은 계층일수록 많은 헤더가 존재하고
       6. 결과적으로 높은 계층일수록 적은 헤더가 존재하며
       7. 헤더는 운영체제가 제공하는 프로토콜에 의해서 추가되고 제거된다.

=====================================

    1. 물리 (Physical)
       1. 0과 1로 표현할 수 있는 비트 정보
       2. 비트 정보를 회선에 실어나르기 위한 전기적 신호 변환 기능
       3. Bit
       4. Hub, Repeater
       5. RS-232C
    2. 데이터링크 (Data Link)
       1. 데이터가 물리적으로 전송되는 과정에서 오류가 있는지 확인
       2. 데이터 전송, 전송오류 제어
       3. 동기화, 오류제어, 흐름제어, 회선제어
       4. Frame
       5. Bridge, Switch
       6. HDLC, PPP
    3. 네트워크
       1. 데이터 전송을 위한 최적화된 경로를 제공
       2. Packet
       3. Router
       4. IP, ICMP
    4. 전송
       1. 송수신 프로세스 간 연결 보장 (프로세스 등장)
       2. 신뢰성 있는 통신 보장
       3. 데이터분할, 재조립, 흐름제어, 오류제어, 혼잡제어
       4. Segment
       5. L4 Switch
       6. TCP, UDP
    5. 세션
       1. 송수신 간 논리적인 연결
       2. 연결접속, 동기제어
       3. Data
       4. Host (ex. PC)
       5. RPC, NetBIOS
    6. 표현
       1. 데이터 전송 중 데이터의 모습은 어떨지 설정
       2. 데이터형식, 암호화, 복호화, 부호교환
       3. Data
       4. Host (ex. PC)
       5. JPEG, MPEG
    7. 응용
       1. 주고 받은 데이터를 활용
       2. 주고 받은 데이터를 가공하여 새로운 데이터를 생성하기도 함
       3. 사용자와 네트워크 간 응용서비스 연결, 데이터 생성
       4. Data
       5. Host (ex. PC)
       6. HTTP, FTP

## 장비

   1. Physical
      1. Hub
         1. 여러 대의 컴퓨터를 연결하여
         2. 네트워크로 정보를 보내거나
         3. 하나의 네트워크로 수신된 정보를
         4. 여러 대의 컴퓨터로 송신하기 위한 장치
         5. 즉, 네트워크라는 통일된 방법으로 여러 컴퓨터에 정보를 전송하기 위한 장치
      2. Repeater
         1. 디지털 신호를 증폭하며
         2. 디지털 신호가 컴퓨터로 수신되도록 하는 장비
   2. DataLink
      1. Bridge
         1. 두 개의 근거리 통신망을 (LAN)
         2. 서로 연결해 주는 통신망 연결 장치
      2. L2 Switch
         1. 브릿지, 허브는 전송속도가 느리므로 대안으로 나왔다
         2. 출발지에서 들어온 프레임을
         3. 목적지 MAC 주소 기반으로
         4. 빠르게 전송시키는 데이터링크 계층의 통신 장치
         5. Store and Forwarding
            1. 데이터를 전부 받은 후 다음 처리를 진행한다
         6. Cut Through
            1. 데이터 목적지 주소만확인 후 바로 전송한다
         7. Fragment Free
            1. 프레임 앞 64바이트만 읽어 에러를 처리하고 목적지 포트로 전송하는 방식
      3. NIC
         1. Network Interface Card
         2. 컴퓨터 내부에 설치
         3. 외부 네트워크와 접속하여 가장 빠른 속도로 데이터를 주고 받을 수 있다
      4. Switching Hub
         1. Hub + Switch
         2. 사용하는 대부분의 허브는 스위칭 허브다
   3. Network
      1. Router
         1. 근거리통신망을 연결하여 (LAN + LAN)
         2. 해당 근거리통신망을 광역통신망에 연결하기 위한 (LAN + WAN)
         3. 인터넷 네트워킹 장치
         4. 패킷의 위치를 추출하여
         5. 그 위치에 대한 최적의 경로를 지정하여
         6. 이 경로에 따라 데이터 패킷을 다음 장치로 전송시키는 장치
         7. Routing Protocol은 경로 설정을 하여
         8. 원하는 목적지까지 지정된 데이터가 안전하게 전달되도록 함
      2. Gateway
         1. 프로토콜을 서로 다른 통신망에 접속할 수 있게 해주는 장치
         2. LAN에서 다른네트워크에 데이터를 보내거나
         3. 다른 네트워크로부터 데이터를 받아들이는 출입구 역할
      3. L3 Switch
         1. 네트워크 계층에서 네트워크 단위들을 연결하는 통신 장비
         2. IP Layer에서의 스위칭을 수행하여 외부로 전송
         3. 라우터와 경계가 모호
      4. 유무선인터넷 공유기
         1. 외부로부터 들어오는 인터넷 라인을 연결하여
         2. 유선으로 여러 대의 기계를 연결하거나
         3. 무선 신호로 송출하면서
         4. 여러 대의 컴퓨터가 하나의 언테넷 라인을 공유할 수 있도록 하는
         5. 인터넷 장비
      5. backbone switching hub
         1. 광역 네트워크를 커버하는 스위칭 허브
         2. 예를 들어 경남권 스위칭, 부산권 스위칭 등 대단위 지역을 커버함
   4. Transport
      1. TCP, UDP 등 스위칭 수행
      2. ftp, http 등을 구분하여 스위칭하는 로드 밸런싱 기능
      3. 애플리케이션 계층에서 파악이 가능한 이메일 내용 등 정교한 로드 밸런싱 수행 불가
      4. 4계층 정보인 TCP/UDP 포트번호를 분석하여 포워딩을 결정하고
      5. QoS와 GLB/SLB 기능을 제공하는 스위치

## 프로토콜

### 프로토콜 개념

   1. 서로 다른 시스템 혹은 기기들 간
   2. 데이터 교환을 원활하게 하기 위한 목적으로 설계된
   3. 표준화된 통신규약

### 프로토콜 기본 3요소

   1. 구문, Syntax
      1. 데이터 형식
      2. 신호 레벨
   2. 의미, Semantic
      1. 제어 정보
      2. 데이터 조정
      3. 에러 처리
   3. 타이밍, Timing
      1. 속도 조절
      2. 순서 관리

### 네트워크 프로토콜

   1. 컴퓨터 혹은 원거리 통신 장비 사이에서
   2. 메시지를 주고받는
   3. 양식 또는 규칙의 체계

#### 네트워크 프로토콜 특징

   1. 단편화
      1. 전송이 가능한 작은 블록으로 나누기
      2. 작은 블록을 전송
   2. 재조립
      1. 단편화된 조각을 원래 데이터로 복원
   3. 캡슐화
      1. 상위 계층의 데이터에 각종 정보를 추가하여 하위 정보로 보내는 것
      2. 상위 계층의 데이터에 Header를 추가하여 하위 정보로 보내는 것
   4. 연결 제어
      1. 데이터 전송량
      2. 데이터 전송 속도
   5. 오류 제어
      1. 전송 중 잃어버린 데이터가 있는지 확인
      2. 전송 중 오류가 발생한 데이터가 있는지 검증
   6. 동기화
      1. 송신 측, 수신 측의 시점을 맞추는 기법
   7. 다중화
      1. 하나의 통신 회선에
      2. 여러 기기들이 접속할 수 있는 기술
   8. 주소 지정
      1. 송신과 수신지의 주소를 부여
      2. 정확한 데이터 전송을 보장하는 기법

### 네트워크 프로토콜 7계층

   1. DataLink (2nd, semantic, 의미)
      1. 링크의 설정, 링크의 유지, 링크의 종료
      2. 노드 간 회선 제어, 흐름 제어, 오류 제어
      3. HDLC (High-Level Data Link Control)
         1. 점대점 방식 통신
         2. 다중 방식 통신
         3. ISO에서 표준화한 동기식 비트 중심의 데이터 링크 프로토콜
      4. PPP (Point to Point Protocol)
         1. 네트워크 분야에서
         2. 두 통신 노드 간의
         3. 직접적인 연결을 위해
         4. 일반적으로 사용되는 데이터 링크 프로토콜
      5. Frame Relay
         1. 프로토콜 처리를 간략화
         2. 단순히 데이터 프레임들의 중계 기능과 (Relay)
         3. 다중화 기능만 수행
         4. 데이터 처리 속도의 향상 및
         5. 전송 지연을 감소시킨
         6. 고속의 데이터 전송 기술
      6. Asynchronous Transport Mode, ATM
         1. 정보전달의 기본단위를 53바이트 셀 단위로 전달
         2. 비동기식 시분할 다중화 방식의 패킷형 전송 기술

   2. Network (3rd)
      1. 다양한 길이의 패킷을
      2. 네트워크들을 통해 전달
      3. 그 과정에서 전송 계층이 요구하는 서비스 품질(QoS)을 위한 수단 제공
      4. Routing
      5. Packet Forwarding
      6. Inter-Networking
      7. IP (Internet Protocol)
         1. 송수신 간 패킷 단위
         2. 데이터를 교환하는 네트워크에서
         3. 정보를 주고받는 데 사용하는 통신 프로토콜
      8. ARP (Address Resolution Protocol)
         1. IP 네트워크 상에서
         2. IP 주소를
         3. MAC 주소로 (물리 주소) 변환하는 프로토콜
      9. RARP (Reverse Address Resolution Protocol)
          1. IP 호스트가
          2. 자신의 물리 네트워크 주소(MAC)는 알지만
          3. IP 주소를 모르는 경우,
          4. 서버로부터 IP 주소를 요청하기 위해 사용하는 프로토콜
          5. MAC 주소에 해당하는 IP 주소를 알려주는 역순 주소 결정 프로토콜
      10. ICMP (Internet Control Message Protocol)
          1. IP Packet을 처리할 때 발생하는 문제를 알려주는 프로토콜
          2. 메시지 형식은 8바이트 헤더와 가변 길이 데이터 영역으로 분리
          3. 수신지 도달 불가 메시지는
          4. 수신지 또는 서비스에 도달할수 없는 호스트를 통지하는 데 사용
          5. ICMP 프로토콜을 사용해서
          6. ping 유틸리티의 구현을 통해
          7. 오류가 발생했음을 알리는 기능을 수행
      11. IGMP (Internet Group Management Protocol)
          1. 인터넷 그룹 관리 프로토콜
          2. 호스트 컴퓨터와 인접 라우터가
          3. 멀티캐스트 그룹 멤버십을 구성하는 데 사용하는 통신 프로토콜
          4. 화상회의, IPTV에서 활용하는 프로토콜
          5. 그룹 가입, 멤버쉽 감시, 멤버쉽 응답, 멤버쉽 탈퇴
      12. Routing Protocol
          1. 데이터 전송을 위해 목적지까지 갈 수 있는 여러 경로 중
          2. 최적의 경로를 설정해주는
          3. 라우터 간의 상호 통신 프로토콜

   3. IPv4 (Internet Protocol Version 4)
      1. 인터넷에서 사용되는
      2. 패킷 교환 네트워크 상에서
      3. 데이터를 교환하기 위한
      4. 32비트 주소 체계를 갖는 네트워크 계층의 프로토콜
      5. IPv4 Header
         1. IP 패킷 앞부분에 주소 등 각종 제어 정보를 담음
         2. 옵션 미지정 시 최소 20바이트 이상
         3. IPv6 경우에는 최소 40바이트 이상
         4. version, header length, type of service, total length
         5. identification, flags, fragment offset
         6. time to live, protocol type, header checksum
         7. source address
         8. destination address
         9. option
         10. data padding
      6. 주소체계는 10진수로 총 12자리이며, 네 부분으로 나눈다.
      7. 각 부분은 0~255까지 세 자리 수로 표현된다.
      8. IPv4 주소는 32비트로 구성된다
      9. 32 = 8 8 8 8 = 2222 2222 2222 2222
      10. 주소 고갈로 128비트 주소체계를 갖는 IPv6 등장
      11. 32비트 주소 = 네트워크 + 호스트
      12. 네트워크 주소와 호스트 주소를 구분하는 것은 서브넷 마스크(Subnet Mask)다.
      13. A, B, C, D, E 클래스 존재
      14. 0.0.0.0 ~ 127.255.255.255 (0~127 - (0+127), 128개 - 2개, 2의 7승)
      15. 128.0.0.0 ~ 191.255.255.255 (128 ~ 191, 64개, 2의 6승)
      16. 192.0.0.0 ~ 223.255.255.255 (192 ~ 223, 32개, 2의 5승)
      17. 224.0.0.0 ~ 239.255.255.255 (224 ~ 239, 16개, 2의 4승)
      18. 240.0.0.0 ~ 255.255.255.255 (240 ~ 255, 16개, 2의 4승 - 2)
      19. 0.X.X.X and 127.X.X.X는 예약된 IP이므로 사용 불가
      20. 128개 / 64개 / 32개 / 16개 / 16개
      21. 2, 3, 4번째 단위는 네트워크 사용자에게 부여가 가능한 IP
      22. C 클래스의 네 번째 단위의 0, 255는 예약된 IP
      23. D 클래스는 멀티캐스트 용도
      24. E 클래스는 연구 용도

   4. IPv6
      1. 128Bit
      2. 16 16 16 16 16 16 16 16
      3. 3.4 x 10의 38승
      4. 네트워크 규모, 단말기 수에 따른 순차적 할당
      5. 헤더 크기 고정
      6. 등급별, 서비스별 QoS 패킷 구분 보장

   5. 4 >> 6
      1. IPv4 전용 호스트와 IPv6 전용 호스트 간 통신을 위한 기술
      2. 주소와 헤더의 변환을 수행
      3. 변환 기술은
         1. 듀얼 스택
            1. IP 계층에 두 가지 프로토콜이 모두 탑재됨
            2. 통신 상대방에 따라서 해당 IP 스택을 선택
            3. DNS 주소 해석 라이브러리(DNS Resolver Library)가 두 주소 유형을 모두 지원
            4. 프로토콜 스택 수정으로 인한 비용 발생
         2. 터널링
            1. 6 >> 4 >> 6 경로를 지날 때
            2. 프로토콜을 캡슐화하여 IPv4 구간을 지나감
            3. 다양한 기술 표준이 존재함
            4. 구현이 어려우며 동작 과정이 복잡함
         3. 주소 변환
            1. 4 <> 게이트웨이 <> 6
            2. 주소 변환기를 둬서 서로 다른 네트워크 상의 패킷을 변환
            3. 주소 변환기가 비쌈

   6. Cast
      1. 캐스트 = 프로토콜
      2. 멀티캐스트
         1. 인터넷 상에서
         2. 같은 내용의 데이터를
         3. 여러 명의 특정한 그룹의 수신자들에게
         4. 동시에 전송할 수 있는 프로토콜
         5. 멀티캐스트 라우팅 프로토콜 + 그룹관리 프로토콜 (IGMP)
         6. (Source, 데이터) + (Router + Router, 멀티캐스트 라우팅) + (Node, IGMP)
         7. 멀티캐스트 라우팅 프로토콜
            1. IP로 구분할 수 있는 테크워크 상 특정 그룹의 모든 사용자에게
            2. 동일한 메시지를 전송하기 위한
            3. 라우팅 프로토콜
         8. 그룹관리 프로토콜
            1. 멀티캐스트를 지원하는 라우터가
            2. 멀티캐스트 그룹에 가입한 네트워크 내의 호스트를
            3. 관리하기 위해 사용하는 프로토콜
      3. 유니캐스트
         1. 고유 주소로 식별된
         2. 하나의 네트워크 목적지에
         3. 1:1로 트래픽 또는 메시지를 전송하는
         4. 프로토콜
      4. 브로드캐스트
         1. 하나의 송신자가
         2. 같은 서브 네트워크 상의 모든 수신자에게
         3. 데이터를 전송하는 프로토콜
         4. 전체에게 트래픽을 전달하는 브로드캐스트 프로토콜은
         5. 각 송신자가 그룹 내의 모든 수신자에게
         6. 메시지를 전송하는
         7. 컴퓨터 통신 방법이다.
      5. 애니캐스트
         1. 하나의 호스트에서
         2. 그룹 내의 가장 가까운 곳에 있는 수신자에게
         3. 데이터를 전달하는 전송 기술
         4. Prefix (n Bits) + Interface ID (128-n Bits)
         5. 주소 형식 + 패킷 전달
         6. 주소 형식
            1. 여러 개의 인터페이스에
            2. 동일한 애니캐스트의 주소의 부여가 가능 (prefix)
            3. 애니캐스트 주소의 포맷은 유니캐스트 주소와 동일
            4. 서브넷 Prefix 이후 모두 0임 (0, 24개)
         7. 패킷 전달
            1. 송신자는
            2. 매트릭스를 참조하여
            3. 애니캐스트 그룹의 가장 가까운 인터페이스로
            4. 데이터를 전달
            5. 거리 판단 기준은 라우팅 매트릭스

   7. Routing Protocol
      1. 데이터 전송을 위해
      2. 목적지까지 갈 수 있는 여러 경로 중
      3. 최적의 경로를 설정해주는
      4. 라우터 간 상호 통신규약
      5. 정적, 동적
      6. 동적
         1. 내부 라우팅 프로토콜, IGP
            1. RIP - IGRP, Distance-Vector 방식
            2. OSPF - EIGRP, Linked-State 방식
         2. 외부 라우팅 프로토콜, EGP
            1. BGP, Path-Vector 방식
      7. RIP, Routing Information Protocol
         1. 거리 벡터 알고리즘에 (Path-Vector) 기초하여 개발된
         2. 내부 라우팅 프로토콜
         3. 벨만-포드 알고리즘
         4. 15홉 제한
      8. OSPF, Open Shortest Path First
         1. 규모가 크고 복잡한 TCP/IP 네트워크 상에서
         2. RIP의 단점을 개선하기 위해
         3. 자신을 기준으로 링크 상태 알고리즘을 적용하여
         4. 최단 경로를 찾는 라우팅 프로토콜
         5. 다익스트라 알고리즘
            1. 링크 상태 라우팅 기반 메트릭 정보를
            2. 한 지역 내 모든 라우터에 변경이 발생을 때만 보내고 (Flooding)
            3. 라우팅 테이블을 구성, 계산
            4. 네트워크 변화에 신속하게 대처
         6. 최소 지연, 최대 처리량 등 관리자가 라우팅 메트릭 지정

   8. 전송 계층, 4계층
      1. TCP
         1. 신뢰성 보장
            1. 패킷 손실
            2. 패킷 중복
            3. 패킷 순서바뀜 등이 없도록 보장
         2. 연결 지향적
            1. UDP가 비연결성인 것과는 달리
            2. TCP는 연결지향적임
            3. 양단간 애플리케이션 / 프로세스는 TCP가 제공하는 연결성 회선을 통해 통해
         3. 흐름 제어, Flow Control
            1. 흐름 제어 기능을 활용하여
            2. 송신 및 수신 속도를 일치시킴
         4. 혼잡 제어, Congestion Control
            1. 네트워크가 혼잡하다고 판단될 때는
            2. 혼잡제어 기법을 사용하여 송신율을 감속함
      2. UDP
         1. 비연결성
            1. 논리적 가상회선 연결이 필요없음
         2. 신뢰성이 없으며
            1. 메시지가 제대로 도착했는지 확인하지 않음 (응답 없음)
            2. 검사 합을 제외한 오류 검출 및 제어 없음
         3. 순서화되지 않은 데이터그램 서비스를 제공
         4. 전송계층 프로토콜
         5. 빠른 요청 빠른 응답이 필요한 실시간 응용에 적합
         6. 여러 다수 지점에 전송 가능
         7. 헤더는 고정 크기 8 바이트
         8. 헤더 처리에 시간과 노력을 들이지 않음

   9. 세션 계층, 5계층
      1. 응용 프로그램 간 대화를 유지하기 위한 구조를 제공
      2. 프로세스들의 논리적인 연결을 담당
      3. 통신 중 연결이 끊어지지 않도록 유지
      4. RPC, Remote Procedure Call
         1. 원격 프로시저 호출
         2. 별도의 원격 제어를 위한 코딩 없이
         3. 다른 주소 공간에서
         4. 함수나 프로시저를 실행할 수 있느 프로세스 간
         5. 통신에 사용되는 프로토콜
      5. NetBIOS
         1. 응용계층의 애플리케이션 프로그램에게
         2. API를 제공하여
         3. 상호통신할 수 있도록 해주는 프로토콜

   10. 표현 계층, 6계층
       1. 애플리케이션이 다루는 정보를
       2. 통신에 알맞은 형태로 만들거나
       3. 하위 계층에서 온 데이터를
       4. 사용자가 이해할 수 있는 형태로 만듦.
       5. 수신자 장치에서 적합한 애플리케이션을 사용하여
       6. 응용계층 데이터의 부호화 및 변환 수행을 통해
       7. 송신 장치로부터 온 데이터를 해석한다.
       8. JPEG
       9. MPEG

   11. 응용 계층, 7계층
       1. 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행
       2. HTTP, Hyper Text Transfer Protocol
          1. 하이퍼텍스트를 빠르게 교환하기 위한 프로토콜
       3. FTP, File Transfer Protocol
          1. TCP/IP 프로토콜을 가지고 서버와 클라이언트 사이의 파일을 전송하기 위한 프로토콜
       4. SMTP, Simple Mail Transfer Protocol
          1. 인터넷에서 TCP 포트 25번을 사용하여 이메일을 보내기 위한 프로토콜
       5. POP3, Post Office Protocol Version 3
          1. 원격 서버로부터 TCP/IP 연결을 통해 이메일을 가져오는 데 사용하는 프로토콜
       6. IMAP, Internet Messaging Access Protocol
          1. 원격 서버로부터 TCP/IP 연결을 통해 이메일을 가져온느 데 사용하는 프로토콜
       7. Telnet
          1. 인터넷이나 로컬 영역에서 네트워크 연결에 사용되는 네트워크 프로토콜
       8. SSH, Secure Shell
          1. 텔넷보다 강력한 보안을 제공하는 원격접속 프로토콜
          2. 서로 연결된 컴퓨터 간 원격명령 실행이나 쉘 서비스 등을 수행
          3. 키를 통한 인증은 클라이언트의 공개키를 서버에 등록해야 하고
          4. 전송되는 데이터는 암호화됨
          5. 인증, 암호화, 압축, 무결성 제공
          6. 기본 네트워크 포트는 22번을 사용
       9. SNMP, Simple Network Management Protocol
          1. TCP/IP 네트워크 관리 프로토콜
          2. 라우터나 허브 등 네트워크 장치로부터 정보를 수집 관리하여
          3. 정보를 네트워크 관리 시스템에 보내는 데 사용
       10. 