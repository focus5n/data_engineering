# 소프트웨어 공격기법

## 종류

    1. DoS, Denial of Service
       1. 서버의 TCP 연결을 소진시킴
       2. SYN Flooding
          1. SYN 패킷만 전송하여 가용 사용자 수를 점유
          2. ACK 패킷을 발송하지 않고 계속 새로운 연결 요청만 시도
       3. UDP Flooding
          1. 대량의 UDP 패킷을 만들어 임의의 포트 번호로 전송
          2. 지속해서 응답 메세지를 생성하게 만들어 자원을 고갈시킴
       4. 스머프
          1. 출발지 주소를 공격 대상의 IP로 설정
          2. 네트워크 전체에 ICMP Echo 패킷을 Directed BroadCasting하여 마비시킴
          3. Bounce 사이트라고 불리는 제3의 사이트를 이용해 공격
       5. Ping of Death
          1. ICMP 패킷(Ping)을 정상적인 크기보다 아주 크게 만들어 전송
          2. 다수의 IP 파편화 발생
          3. 수신 측에서 단편화된 패킷을 재조합하는 과정해서 많은 부하 발생
          4. 재조합 버퍼의 오버플로우가 발생하여 정상적인 서비스 불가능
       6. 랜드 어택
          1. 출발지 IP와 목적지 IP를 같은 패킷 주소로 만들어 보냄
          2. 수신자가 자기 자신에게 응답
       7. 티어 드롭
          1. IP 패킷 재조합 과정에서 잘못된 Fragment Offset 정보 제공
       8. 봉크 / 보잉크
          1. 프로토콜 오류 제어를 역이용
          2. 시스템의 패킷 재전송과 재조립이 과부하를 유발
             1. 봉크: 같은 시퀀스 번호를 계속 보냄
             2. 보잉크: 일정한 간격으로 시퀀스 번호에 빈 공간 생성

### DDoS, Distributed DoS

   여러 대의 공격자를 분산 배치
   동시에 동작하여 특정 사이트를 공격

#### 구성요소

   Attacker, 공격을 주도하는 해커의 컴퓨터

   Master, 공격자에게 명령을 받음 + 에이전트를 관리
   Agent, 공격 대상에게 직접 공격을 가함

   Handler, Master 시스템의 역할을 수행하는 프로그램
   Daemon, Agent 시스템의 역할을 수행하는 프로그램

#### 공격도구

   1. Trinoo
      1. 많은 소스로부터 통합된 UDP Flood 서비스 거부 공격을 유발
      2. 몇 개의 Master(서버), Agent(클라이언트)로 구성됨

   2. Tribe Flood Network, TFN
      1. Trinoo 공격방식과 유사하게 많은 소스로 서비스 거부 공격을 유발
      2. UDP Flood, TCP SYN Flood, ICMP Echo 요청, Smurf 공격 수행 가능

   3. Stacheldraht
      1. 분산 서비스 거부 에이전트 역할을 하는 Linux, Solaris 시스템용 멀웨어 도구
      2. ICMP Flood, SYN Flood, UDP Flood, Smurf 등 DDoS 공격 가능

## 대응방법

   1. 차단 정책 업데이트
      1. 공격 규모 확인
      2. 가용성 침해될 지점 확인
      3. 데이터 기반 차단 정책 추가

   2. 좀비-PC IP 확보
      1. 공격자는 대부분 Source IP를 위조하므로, IP 위변조 여부를 확인

   3. 보안 솔루션 운영
      1. 방화벽
      2. 침입 탐지 시스템

## DDoS 공격종류

   1. 대역폭 소진 공격 (3 ~ 4계층)
      1. UDP / ICMP Traffic Flooding
         1. UDP/ ICMP Flooding
         2. DNS Query Flooding
      2. TCP Traffic Flooding
         1. SYN Flooding
         2. SYN + ACK Flooding
      3. IP Flooding
         1. LAND Attack
         2. Teardrop

   2. 서비스 마비 공격 (7계층)
      1. HTTP Traffic Flooding
         1. GET Flooding
         2. GET with Cache-Control
      2. HTTP Header / Option Spoofing
         1. Slowris
         2. Slowloris
         3. Slow HTTP Read DoS
      3. Other L7 Service Flooding

## DRDoS(Distributed Reflection DoS) 공격

   공격자가 출발지 IP를 공격대상 IP로 위조
   반사서버는 공격대상 IP로 응답(SYN-ACK 패킷)을 보냄

### 대응방법

   1. ISP(인터넷 서비스 사업자)가 직접 차단
   2. 반사 서버에서 연결을 완료하지 않은 SYN 출처 IP를 조사하여 블랙리스크로 운영
   3. 공격대상이 되고 있는 공격대상서버 IP와 Port(서비스)를 변경, 필터링
